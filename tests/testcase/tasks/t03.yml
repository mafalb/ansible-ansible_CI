# vim: set ft=yaml ts=2:
---

- name: README file does exist
  stat:
    path: "{{ CI_BUILD_DIR }}/README.md"
  register: _README

- name: debug output for _README
  debug: var=_README
  tags:
    - never
    - debug

- name: docker container for centos7 is running
  with_items: "{{ targeted_distributions }}"
  docker_container:
    name: "{{ item.container }}"
    image: "{{ item.image }}"
    volumes: /sys/fs/cgroup:/sys/fs/cgroup:ro

- assert:
    that:
      - _README.stat.exists
      - _README.stat.size|int > 200
    success_msg: README file does meet the requirements
    fail_msg: README file does not meet the requirements
